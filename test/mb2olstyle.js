(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("mapbox-to-css-font"));
	else if(typeof define === 'function' && define.amd)
		define(["mapbox-to-css-font"], factory);
	else if(typeof exports === 'object')
		exports["mb2olstyle"] = factory(require("mapbox-to-css-font"));
	else
		root["mb2olstyle"] = factory(root["mapbox-to-css-font"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_26__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 6);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _ol_={};_ol_.ASSUME_TOUCH=!1,_ol_.DEFAULT_MAX_ZOOM=42,_ol_.DEFAULT_MIN_ZOOM=0,_ol_.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=0.5,_ol_.DEFAULT_TILE_SIZE=256,_ol_.DEFAULT_WMS_VERSION='1.3.0',_ol_.ENABLE_CANVAS=!0,_ol_.ENABLE_PROJ4JS=!0,_ol_.ENABLE_RASTER_REPROJECTION=!0,_ol_.ENABLE_WEBGL=!0,_ol_.DEBUG_WEBGL=!0,_ol_.INITIAL_ATLAS_SIZE=256,_ol_.MAX_ATLAS_SIZE=-1,_ol_.MOUSEWHEELZOOM_MAXDELTA=1,_ol_.OVERVIEWMAP_MAX_RATIO=0.75,_ol_.OVERVIEWMAP_MIN_RATIO=0.1,_ol_.RASTER_REPROJECTION_MAX_SOURCE_TILES=100,_ol_.RASTER_REPROJECTION_MAX_SUBDIVISION=10,_ol_.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=0.25,_ol_.SIMPLIFY_TOLERANCE=0.5,_ol_.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024,_ol_.VERSION='v4.3.2',_ol_.WEBGL_MAX_TEXTURE_SIZE,_ol_.WEBGL_EXTENSIONS,_ol_.inherits=function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a},_ol_.nullFunction=function(){},_ol_.getUid=function(a){return a.ol_uid||(a.ol_uid=++_ol_.uidCounter_)},_ol_.uidCounter_=0,exports.default=_ol_;

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _assertionerror=__webpack_require__(8),_assertionerror2=_interopRequireDefault(_assertionerror);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_asserts_={};_ol_asserts_.assert=function(a,b){if(!a)throw new _assertionerror2.default(b)},exports.default=_ol_asserts_;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _index=__webpack_require__(0),_index2=_interopRequireDefault(_index),_regularshape=__webpack_require__(10),_regularshape2=_interopRequireDefault(_regularshape);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_style_Circle_=function(a){var b=a||{};_regularshape2.default.call(this,{points:Infinity,fill:b.fill,radius:b.radius,snapToPixel:b.snapToPixel,stroke:b.stroke,atlasManager:b.atlasManager})};_index2.default.inherits(_ol_style_Circle_,_regularshape2.default),_ol_style_Circle_.prototype.clone=function(){var a=new _ol_style_Circle_({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return a.setOpacity(this.getOpacity()),a.setScale(this.getScale()),a},_ol_style_Circle_.prototype.setRadius=function(a){this.radius_=a,this.render_(this.atlasManager_)},exports.default=_ol_style_Circle_;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _asserts=__webpack_require__(1),_asserts2=_interopRequireDefault(_asserts),_math=__webpack_require__(12),_math2=_interopRequireDefault(_math);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_color_={};_ol_color_.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3}){1,2}$/i,_ol_color_.NAMED_COLOR_RE_=/^([a-z]*)$/i,_ol_color_.asArray=function(a){return Array.isArray(a)?a:_ol_color_.fromString(a)},_ol_color_.asString=function(a){return'string'==typeof a?a:_ol_color_.toString(a)},_ol_color_.fromNamed=function(a){var b=document.createElement('div');b.style.color=a,document.body.appendChild(b);var c=getComputedStyle(b).color;return document.body.removeChild(b),c},_ol_color_.fromString=function(){var a={},b=0;return function(c){var d;if(a.hasOwnProperty(c))d=a[c];else{if(b>=1024){var e,f=0;for(e in a)0==(3&f++)&&(delete a[e],--b)}d=_ol_color_.fromStringInternal_(c),a[c]=d,++b}return d}}(),_ol_color_.fromStringInternal_=function(c){var e,f,g,b,a,h;if(_ol_color_.NAMED_COLOR_RE_.exec(c)&&(c=_ol_color_.fromNamed(c)),_ol_color_.HEX_COLOR_RE_.exec(c)){var i=c.length-1;_asserts2.default.assert(3==i||6==i,54);var j=3==i?1:2;e=parseInt(c.substr(1+0*j,j),16),f=parseInt(c.substr(1+1*j,j),16),g=parseInt(c.substr(1+2*j,j),16),1==j&&(e=(e<<4)+e,f=(f<<4)+f,g=(g<<4)+g),b=1,a=[e,f,g,b]}else 0==c.indexOf('rgba(')?(h=c.slice(5,-1).split(',').map(Number),a=_ol_color_.normalize(h)):0==c.indexOf('rgb(')?(h=c.slice(4,-1).split(',').map(Number),h.push(1),a=_ol_color_.normalize(h)):_asserts2.default.assert(!1,14);return a},_ol_color_.normalize=function(a,b){var c=b||[];return c[0]=_math2.default.clamp(0|a[0]+0.5,0,255),c[1]=_math2.default.clamp(0|a[1]+0.5,0,255),c[2]=_math2.default.clamp(0|a[2]+0.5,0,255),c[3]=_math2.default.clamp(a[3],0,1),c},_ol_color_.toString=function(c){var d=c[0];d!=(0|d)&&(d=0|d+0.5);var e=c[1];e!=(0|e)&&(e=0|e+0.5);var f=c[2];f!=(0|f)&&(f=0|f+0.5);var b=c[3]===void 0?1:c[3];return'rgba('+d+','+e+','+f+','+b+')'},exports.default=_ol_color_;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _index=__webpack_require__(0),_index2=_interopRequireDefault(_index),_color=__webpack_require__(3),_color2=_interopRequireDefault(_color);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_style_Fill_=function(a){var b=a||{};this.color_=b.color===void 0?null:b.color,this.checksum_=void 0};_ol_style_Fill_.prototype.clone=function(){var a=this.getColor();return new _ol_style_Fill_({color:a&&a.slice?a.slice():a||void 0})},_ol_style_Fill_.prototype.getColor=function(){return this.color_},_ol_style_Fill_.prototype.setColor=function(a){this.color_=a,this.checksum_=void 0},_ol_style_Fill_.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=_index2.default.getUid(this.color_).toString():this.checksum_='f'+(this.color_?_color2.default.asString(this.color_):'-')),this.checksum_},exports.default=_ol_style_Fill_;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _index=__webpack_require__(0),_index2=_interopRequireDefault(_index);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_style_Stroke_=function(a){var b=a||{};this.color_=b.color===void 0?null:b.color,this.lineCap_=b.lineCap,this.lineDash_=b.lineDash===void 0?null:b.lineDash,this.lineDashOffset_=b.lineDashOffset,this.lineJoin_=b.lineJoin,this.miterLimit_=b.miterLimit,this.width_=b.width,this.checksum_=void 0};_ol_style_Stroke_.prototype.clone=function(){var a=this.getColor();return new _ol_style_Stroke_({color:a&&a.slice?a.slice():a||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},_ol_style_Stroke_.prototype.getColor=function(){return this.color_},_ol_style_Stroke_.prototype.getLineCap=function(){return this.lineCap_},_ol_style_Stroke_.prototype.getLineDash=function(){return this.lineDash_},_ol_style_Stroke_.prototype.getLineDashOffset=function(){return this.lineDashOffset_},_ol_style_Stroke_.prototype.getLineJoin=function(){return this.lineJoin_},_ol_style_Stroke_.prototype.getMiterLimit=function(){return this.miterLimit_},_ol_style_Stroke_.prototype.getWidth=function(){return this.width_},_ol_style_Stroke_.prototype.setColor=function(a){this.color_=a,this.checksum_=void 0},_ol_style_Stroke_.prototype.setLineCap=function(a){this.lineCap_=a,this.checksum_=void 0},_ol_style_Stroke_.prototype.setLineDash=function(a){this.lineDash_=a,this.checksum_=void 0},_ol_style_Stroke_.prototype.setLineDashOffset=function(a){this.lineDashOffset_=a,this.checksum_=void 0},_ol_style_Stroke_.prototype.setLineJoin=function(a){this.lineJoin_=a,this.checksum_=void 0},_ol_style_Stroke_.prototype.setMiterLimit=function(a){this.miterLimit_=a,this.checksum_=void 0},_ol_style_Stroke_.prototype.setWidth=function(a){this.width_=a,this.checksum_=void 0},_ol_style_Stroke_.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_='s',this.checksum_+=this.color_?'string'==typeof this.color_?this.color_:_index2.default.getUid(this.color_).toString():'-',this.checksum_+=','+(void 0===this.lineCap_?'-':this.lineCap_.toString())+','+(this.lineDash_?this.lineDash_.toString():'-')+','+(void 0===this.lineDashOffset_?'-':this.lineDashOffset_)+','+(void 0===this.lineJoin_?'-':this.lineJoin_)+','+(void 0===this.miterLimit_?'-':this.miterLimit_.toString())+','+(void 0===this.width_?'-':this.width_.toString())),this.checksum_},exports.default=_ol_style_Stroke_;

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};Object.defineProperty(exports,'__esModule',{value:!0});exports.default=function(a,b,c,d,e,f,g){function h(a,b,c){var d=c+','+b+','+a,e=measureCache[d];if(!e){ctx.font=b;var f=ctx.measureText('M').width,g=a.split(' '),h='';e=[];for(var j,k=0,l=g.length;k<l;++k)j=g[k],ctx.measureText(h+j).width<=f*c?h+=(h?' ':'')+j:(h&&e.push(h),h=j);h&&e.push(h),measureCache[d]=e}return e}function j(a,b,c,d,e){var f=Math.min,g=Math.ceil,h=Math.max,j=d.pixelRatio,k=[Infinity,Infinity],l=[-Infinity,-Infinity],m=[],n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0;a&&(p=a.img,r=a.scale*j,q=a.imgData,s=q.width,t=q.height,n=c[0]-s/2*r,o=c[1]-t/2*r,k[0]=n,k[1]=o,l[0]=c[0]+s/2*r,l[1]=c[1]+t/2*r);var u,v,w,x;if(b){if(x=b.font+','+b.fill+','+b.stroke+','+b.lineWidth+','+b.text,u=textCache[x],!u){ctx.font=b.font;for(var z=b.lines,A=1.5*ctx.measureText('M').width,B=0,C=0,D=0,E=z.length;D<E;++D)B=h(B,ctx.measureText(z[D]).width),C+=A;var F=b.lineWidth;u=textCache[x]=document.createElement('CANVAS'),u.width=g((2*F+textWidth)*j),u.height=g((2*F+textHeight)*j);var G=u.getContext('2d');for(G.font=b.font,G.textBaseline='top',G.textAlign='center',G.translate(u.width/2,0),G.scale(j,j),i=0;i<ii;++i)b.stroke&&(G.strokeStyle=b.stroke,G.lineWidth=F,G.strokeText(lines[i],0,F+i*lineHeight)),b.fill&&(G.fillStyle=b.fill,G.fillText(lines[i],0,F+i*lineHeight))}var H=u.width,I=u.height,J=H/2,K=I/2,L=b.textSize*j,M=b.anchor,N=b.offset;v=c[0]-J+N[0]*L,w=c[1]-K+N[1]*L,-1==M.indexOf('top')?-1!=M.indexOf('bottom')&&(w-=K):w+=K,-1==M.indexOf('left')?-1!=M.indexOf('right')&&(v-=J):v+=J,k[0]=f(k[0],v),k[1]=f(k[1],w),l[0]=h(l[0],v+H),l[1]=h(l[1],w+I)}var y=d.context.canvas;if(0<=l[0]&&y.width>=k[0]&&0<=l[1]&&y.height>=k[1]){var O=(a&&a.icon)+','+x;if(O in labels){var P=O,Q=!0;do{var R=labels[P][0];R&&R.bottomLeft[0]<=l[0]&&R.topRight[0]>=k[0]&&R.bottomLeft[1]<=l[1]&&R.topRight[1]>=k[1]&&(Q=!1),P+='_'}while(P in labels);Q&&(O=P)}O in labels||(a&&m.push({translate:[n,o],rotate:a.rotation,alpha:a.opacity,drawImage:[p,q.x,q.y,s,t,0,0,s*r,t*r]}),b&&m.push({translate:[v,w],rotate:b.rotation,alpha:b.opacity,drawImage:[u,0,0]}),gutter[0]=h(gutter[0],(l[0]-k[0])/2),gutter[1]=h(gutter[1],(l[1]-k[1])/2),labels[O]=[{bottomLeft:k,topRight:l},O,e,m])}}function k(c,a){var b=Math.pow;c=labels[c],a=labels[a];var d=c[2],e=a[2],f=c[0],g=a[0],h=b(f.bottomLeft[0],2)+b(f.bottomLeft[1],2),j=b(g.bottomLeft[0],2)+b(g.bottomLeft[1],2);return d==e?h-j:d-e}if(!d){d=[];for(var p=156543.03392804097;22>d.length;p/=2)d.push(p)}if('object'==('undefined'==typeof b?'undefined':_typeof(b))&&(b=JSON.stringify(b)),b=JSON.parse(b),8!=b.version)throw new Error('glStyle version 8 required.');var l;if(f){var q=new Image;q.onload=function(){l=q,a.changed()},q.src=f}for(var r,s=document.createElement('CANVAS').getContext('2d'),t=new _labelgun2.default(voidFn,voidFn),u=b.layers,v={},w=0,x=u.length;w<x;++w)if(r=u[w],r.layout||(r.layout={}),resolveRef(r,b),'string'==typeof c&&r.source==c||-1!==c.indexOf(r.id)){var y=r['source-layer'],z=v[y];z||(z=v[y]=[]),z.push({layer:r,index:w}),preprocess(r,g)}var m={},n=[],o=function(a,b){var c=a.getProperties(),g=layersBySourceLayer[c.layer];if(g){var k=d.indexOf(b);-1==k&&(k=getZoomForResolution(b,d));for(var o=types[a.getGeometry().getType()],p={properties:c,type:o},f=-1,q=0,r=g.length;q<r;++q){var s=g[q],t=s.layer,u=t.paint;'none'===u.visibility||'minzoom'in t&&k<t.minzoom||'maxzoom'in t&&k>=t.maxzoom||(!t.filter||t.filter(p))&&function(){var b,d,g,p,q,r,t=s.index;if(3==o&&!('fill-pattern'in u)&&'fill-color'in u&&(d=u['fill-opacity'](k,c),b=colorWithOpacity(u['fill-color'](k,c),d),b&&(++f,r=n[f],(!r||!r.getFill()||r.getStroke()||r.getText())&&(r=n[f]=new _style2.default({fill:new _fill2.default})),g=r.getFill(),g.setColor(b),r.setZIndex(t)),'fill-outline-color'in u&&(q=colorWithOpacity(u['fill-outline-color'](k,c),d)),q&&(++f,r=n[f],(!r||!r.getStroke()||r.getFill()||r.getText())&&(r=n[f]=new _style2.default({stroke:new _stroke2.default})),p=r.getStroke(),p.setLineCap(defaults['line-cap']),p.setLineJoin(defaults['line-join']),p.setMiterLimit(defaults['line-miter-limit']),p.setColor(q),p.setWidth(1),p.setLineDash(null),r.setZIndex(t))),1!=o){b=!('line-pattern'in u)&&'line-color'in u?colorWithOpacity(u['line-color'](k,c),u['line-opacity'](k,c)):void 0;var y=u['line-width'](k,c);b&&0<y&&(++f,r=n[f],(!r||!r.getStroke()||r.getFill()||r.getText())&&(r=n[f]=new _style2.default({stroke:new _stroke2.default})),p=r.getStroke(),p.setLineCap(u['line-cap'](k,c)),p.setLineJoin(u['line-join'](k,c)),p.setMiterLimit(u['line-miter-limit'](k,c)),p.setColor(b),p.setWidth(y),p.setLineDash(u['line-dasharray']?u['line-dasharray'](k,c).map(function(a){return a*y}):null),r.setZIndex(t))}var v;if(1==o&&'icon-image'in u){var z=u['icon-image'](k,c);if(z){var A=fromTemplate(z,c);if(r=m[A],e&&l){var B=e[A];B&&(v={icon:A,img:l,imgData:B,scale:u['icon-size'](k,c)/B.pixelRatio,rotation:deg2rad(u['icon-rotate'](k,c)),opacity:u['icon-opacity'](k,c)})}}}if(1==o&&'circle-radius'in u){++f;var C=u['circle-radius'](k,c)+'.'+u['circle-stroke-color'](k,c)+'.'+u['circle-color'](k,c);r=m[C],r||(r=new _style2.default({image:new _circle2.default({radius:u['circle-radius'](k,c),stroke:new _stroke2.default({color:colorWithOpacity(u['circle-stroke-color'](k,c),d)}),fill:new _fill2.default({color:colorWithOpacity(u['circle-color'](k,c),d)})})})),r.setZIndex(t),n[f]=r}var w;if('text-field'in u){var D=u['text-field'](k,c);w=fromTemplate(D,c)}var x;if(w&&2!==o){var E=u['text-size'](k,c),F=(0,_mapboxToCssFont2.default)(fontMap[u['text-font'](k,c)],E),G=u['text-transform'];'uppercase'==G?w=w.toUpperCase():'lowercase'==G&&(w=w.toLowerCase());var H=h(w,F,u['text-max-width'](k,c));x={text:w,lines:H,font:F,textSize:E,anchor:u['text-anchor'](k,c),offset:u['text-offset'](k,c),rotation:deg2rad(u['text-rotate'](k,c)),opacity:u['text-opacity'](k,c)},x.fill=u['text-color'](k,c),u['text-halo-width']&&(x.lineWidth=u['text-halo-width'](k,c),x.stroke=u['text-halo-color'](k,c))}if(v||x){++f,r=n[f],(!r||!r.getRenderer()||r.getFill()||r.getStroke())&&(r=n[f]=new _style2.default),r.setRenderer(function(a,b){var c=b.context.canvas;if(!gutter){var d=b.pixelRatio;gutter=[50*d,20*d]}a[0]>-gutter[0]&&a[1]>-gutter[1]&&a[0]<c.width+gutter[0]&&a[1]<c.height+gutter[1]&&j(v,x,a,b,t)});var I=a.getGeometry();'Polygon'==I.getType()?r.setGeometry(I.getInteriorPoint()):'MultiPolygon'==I.getType()&&r.setGeometry(I.getPolygons().sort(sortByWidth)[0].getInteriorPoint()),r.setZIndex(t)}}()}if(-1<stylesLength)return n.length=stylesLength+1,n}};return a.on('change',function(){textCache={}}),a.on('precompose',function(){labelEngine.reset(),labels={}}),a.on('postcompose',function(a){var b=a.context,c=Object.keys(labels);c.sort(k);var d,e;for(d=0,e=c.length;d<e;++d){var g=labels[c[d]];g[2]=1,labelEngine.ingestLabel.apply(labelEngine,g)}labelEngine.update();var f=labelEngine.getShown();for(d=0,e=f.length;d<e;++d)for(var h=f[d],l=h.labelObject,m=0,j=l.length;m<j;++m){var n=l[m],o=b.globalAlpha;b.translate.apply(b,n.translate),n.rotate&&b.rotate(n.rotate),1!=n.alpha&&(b.globalAlpha=o*n.alpha),b.drawImage.apply(b,n.drawImage),1!=n.alpha&&(b.globalAlpha=o),n.rotate&&b.rotate(-n.rotate),b.translate.apply(b,n.translate.map(function(a){return-a}))}}),a.setStyle(o),o};var _style=__webpack_require__(7),_style2=_interopRequireDefault(_style),_fill=__webpack_require__(4),_fill2=_interopRequireDefault(_fill),_stroke=__webpack_require__(5),_stroke2=_interopRequireDefault(_stroke),_circle=__webpack_require__(2),_circle2=_interopRequireDefault(_circle),_function=__webpack_require__(19),_feature_filter=__webpack_require__(25),_feature_filter2=_interopRequireDefault(_feature_filter),_mapboxToCssFont=__webpack_require__(26),_mapboxToCssFont2=_interopRequireDefault(_mapboxToCssFont),_labelgun=__webpack_require__(27),_labelgun2=_interopRequireDefault(_labelgun);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var functions={interpolated:['line-miter-limit','fill-opacity','line-opacity','line-width','text-halo-width','text-max-width','text-offset','text-opacity','text-rotate','text-size','icon-opacity','icon-rotate','icon-size','circle-radius'],"piecewise-constant":['fill-color','fill-outline-color','icon-image','line-cap','line-color','line-join','line-dasharray','text-anchor','text-color','text-field','text-font','text-halo-color','circle-color','circle-stroke-color']},defaults={"fill-opacity":1,"line-cap":'butt',"line-join":'miter',"line-miter-limit":2,"line-opacity":1,"line-width":1,"text-anchor":'center',"text-color":'#000000',"text-font":['Open Sans Regular','Arial Unicode MS Regular'],"text-halo-color":'rgba(0, 0, 0, 0)',"text-halo-width":0,"text-max-width":10,"text-offset":[0,0],"text-opacity":1,"text-rotate":0,"text-size":16,"icon-opacity":1,"icon-rotate":0,"icon-size":1,"circle-color":'#000000',"circle-stroke-color":'#000000'},types={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3};function voidFn(){}function applyDefaults(a){for(var b in defaults)b in a||(a[b]=defaults[b])}function applyLayoutToPaint(a){for(var b in a.layout)a.paint[b]||(a.paint[b]=a.layout[b])}function convertToFunctions(a,b){for(var c,d={function:b},e=0,f=functions[b].length;e<f;++e)c=functions[b][e],c in a&&(a[c]=(0,_function.createFunction)(a[c],d))}var fontMap={};function chooseFont(a,b){if(b){var c,d,e;if(!Array.isArray(a)){var f=a.stops;if(f)for(d=0,e=f.length;d<e;++d)chooseFont(f[d][1],b);return}if(!fontMap[a])for(d=0,e=a.length;d<e;++d)if(c=a[d],-1<=b.indexOf(c)){fontMap[a]=c;break}}else fontMap[a]=a[0]}function preprocess(a,b){a.paint||(a.paint={}),a.ref||applyLayoutToPaint(a),applyDefaults(a.paint),a.paint['text-field']&&chooseFont(a.paint['text-font'],b),Array.isArray(a.filter)&&(a.filter=(0,_feature_filter2.default)(a.filter)),convertToFunctions(a.paint,'interpolated'),convertToFunctions(a.paint,'piecewise-constant')}function resolveRef(a,b){if(a.ref)for(var c,d=b.layers,e=0,f=d.length;e<f;++e)if(c=d[e],c.id==a.ref)return a.type=c.type,a.source=c.source,a['source-layer']=c['source-layer'],a.minzoom=c.minzoom,a.maxzoom=c.maxzoom,a.filter=c.filter,void(a.layout=c.layout)}function getZoomForResolution(a,b){for(var c=Math.log,d=void 0,e=0,f=b.length;e<f;++e)if(d=b[e],d<a&&e+1<f){var g=b[e]/b[e+1];return e+c(b[e]/a)/c(g)}return f-1}var colorElement=document.createElement('div'),colorRegEx=/^rgba?\((.*)\)$/,colorCache={};function colorWithOpacity(a,b){if(a&&b!==void 0){var c=colorCache[a];if(!c){colorElement.style.color=a,document.body.appendChild(colorElement);var d=getComputedStyle(colorElement).getPropertyValue('color');document.body.removeChild(colorElement);var e=d.match(colorRegEx)[1].split(',').map(Number);3==e.length&&e.push(1),colorCache[a]=c={color:e,opacity:e[3]}}a=c.color,a[3]=c.opacity*b,0===a[3]&&(a=void 0)}return a}function deg2rad(a){return a*Math.PI/180}var templateRegEx=/^(.*)\{(.*)\}(.*)$/;function fromTemplate(a,b){var c=a.match(templateRegEx);if(c){var d=b[c[2]]||'';return c[1]+d+c[3]}return a}function sortByWidth(c,a){var b=c.getExtent(),d=a.getExtent();return d[2]-d[0]-(b[2]-b[0])}

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _asserts=__webpack_require__(1),_asserts2=_interopRequireDefault(_asserts),_geometrytype=__webpack_require__(9),_geometrytype2=_interopRequireDefault(_geometrytype),_circle=__webpack_require__(2),_circle2=_interopRequireDefault(_circle),_fill=__webpack_require__(4),_fill2=_interopRequireDefault(_fill),_stroke=__webpack_require__(5),_stroke2=_interopRequireDefault(_stroke);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_style_Style_=function(a){var b=a||{};this.geometry_=null,this.geometryFunction_=_ol_style_Style_.defaultGeometryFunction,b.geometry!==void 0&&this.setGeometry(b.geometry),this.fill_=b.fill===void 0?null:b.fill,this.image_=b.image===void 0?null:b.image,this.renderer_=b.renderer===void 0?null:b.renderer,this.stroke_=b.stroke===void 0?null:b.stroke,this.text_=b.text===void 0?null:b.text,this.zIndex_=b.zIndex};_ol_style_Style_.prototype.clone=function(){var a=this.getGeometry();return a&&a.clone&&(a=a.clone()),new _ol_style_Style_({geometry:a,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},_ol_style_Style_.prototype.getRenderer=function(){return this.renderer_},_ol_style_Style_.prototype.setRenderer=function(a){this.renderer_=a},_ol_style_Style_.prototype.getGeometry=function(){return this.geometry_},_ol_style_Style_.prototype.getGeometryFunction=function(){return this.geometryFunction_},_ol_style_Style_.prototype.getFill=function(){return this.fill_},_ol_style_Style_.prototype.setFill=function(a){this.fill_=a},_ol_style_Style_.prototype.getImage=function(){return this.image_},_ol_style_Style_.prototype.setImage=function(a){this.image_=a},_ol_style_Style_.prototype.getStroke=function(){return this.stroke_},_ol_style_Style_.prototype.setStroke=function(a){this.stroke_=a},_ol_style_Style_.prototype.getText=function(){return this.text_},_ol_style_Style_.prototype.setText=function(a){this.text_=a},_ol_style_Style_.prototype.getZIndex=function(){return this.zIndex_},_ol_style_Style_.prototype.setGeometry=function(a){'function'==typeof a?this.geometryFunction_=a:'string'==typeof a?this.geometryFunction_=function(b){return b.get(a)}:a?a!==void 0&&(this.geometryFunction_=function(){return a}):this.geometryFunction_=_ol_style_Style_.defaultGeometryFunction,this.geometry_=a},_ol_style_Style_.prototype.setZIndex=function(a){this.zIndex_=a},_ol_style_Style_.createFunction=function(a){var b;if('function'==typeof a)b=a;else{var c;Array.isArray(a)?c=a:(_asserts2.default.assert(a instanceof _ol_style_Style_,41),c=[a]),b=function(){return c}}return b},_ol_style_Style_.default_=null,_ol_style_Style_.defaultFunction=function(){if(!_ol_style_Style_.default_){var a=new _fill2.default({color:'rgba(255,255,255,0.4)'}),b=new _stroke2.default({color:'#3399CC',width:1.25});_ol_style_Style_.default_=[new _ol_style_Style_({image:new _circle2.default({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return _ol_style_Style_.default_},_ol_style_Style_.createDefaultEditing=function(){var a={},b=[255,255,255,1],c=[0,153,255,1],d=3;return a[_geometrytype2.default.POLYGON]=[new _ol_style_Style_({fill:new _fill2.default({color:[255,255,255,0.5]})})],a[_geometrytype2.default.MULTI_POLYGON]=a[_geometrytype2.default.POLYGON],a[_geometrytype2.default.LINE_STRING]=[new _ol_style_Style_({stroke:new _stroke2.default({color:b,width:d+2})}),new _ol_style_Style_({stroke:new _stroke2.default({color:c,width:d})})],a[_geometrytype2.default.MULTI_LINE_STRING]=a[_geometrytype2.default.LINE_STRING],a[_geometrytype2.default.CIRCLE]=a[_geometrytype2.default.POLYGON].concat(a[_geometrytype2.default.LINE_STRING]),a[_geometrytype2.default.POINT]=[new _ol_style_Style_({image:new _circle2.default({radius:2*d,fill:new _fill2.default({color:c}),stroke:new _stroke2.default({color:b,width:d/2})}),zIndex:Infinity})],a[_geometrytype2.default.MULTI_POINT]=a[_geometrytype2.default.POINT],a[_geometrytype2.default.GEOMETRY_COLLECTION]=a[_geometrytype2.default.POLYGON].concat(a[_geometrytype2.default.LINE_STRING],a[_geometrytype2.default.POINT]),a},_ol_style_Style_.defaultGeometryFunction=function(a){return a.getGeometry()},exports.default=_ol_style_Style_;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _index=__webpack_require__(0),_index2=_interopRequireDefault(_index);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_AssertionError_=function(a){var b=_index2.default.VERSION?_index2.default.VERSION.split('-')[0]:'latest';this.message='Assertion failed. See https://openlayers.org/en/'+b+'/doc/errors/#'+a+' for details.',this.code=a,this.name='AssertionError'};_index2.default.inherits(_ol_AssertionError_,Error),exports.default=_ol_AssertionError_;

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _ol_geom_GeometryType_={POINT:'Point',LINE_STRING:'LineString',LINEAR_RING:'LinearRing',POLYGON:'Polygon',MULTI_POINT:'MultiPoint',MULTI_LINE_STRING:'MultiLineString',MULTI_POLYGON:'MultiPolygon',GEOMETRY_COLLECTION:'GeometryCollection',CIRCLE:'Circle'};exports.default=_ol_geom_GeometryType_;

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _index=__webpack_require__(0),_index2=_interopRequireDefault(_index),_colorlike=__webpack_require__(11),_colorlike2=_interopRequireDefault(_colorlike),_dom=__webpack_require__(13),_dom2=_interopRequireDefault(_dom),_has=__webpack_require__(14),_has2=_interopRequireDefault(_has),_imagestate=__webpack_require__(16),_imagestate2=_interopRequireDefault(_imagestate),_canvas=__webpack_require__(17),_canvas2=_interopRequireDefault(_canvas),_image=__webpack_require__(18),_image2=_interopRequireDefault(_image);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_style_RegularShape_=function(a){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=a.fill===void 0?null:a.fill,this.origin_=[0,0],this.points_=a.points,this.radius_=a.radius===void 0?a.radius1:a.radius,this.radius2_=a.radius2,this.angle_=a.angle===void 0?0:a.angle,this.stroke_=a.stroke===void 0?null:a.stroke,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=a.atlasManager,this.render_(this.atlasManager_);var b=!(a.snapToPixel!==void 0)||a.snapToPixel,c=a.rotateWithView!==void 0&&a.rotateWithView;_image2.default.call(this,{opacity:1,rotateWithView:c,rotation:a.rotation===void 0?0:a.rotation,scale:1,snapToPixel:b})};_index2.default.inherits(_ol_style_RegularShape_,_image2.default),_ol_style_RegularShape_.prototype.clone=function(){var a=new _ol_style_RegularShape_({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return a.setOpacity(this.getOpacity()),a.setScale(this.getScale()),a},_ol_style_RegularShape_.prototype.getAnchor=function(){return this.anchor_},_ol_style_RegularShape_.prototype.getAngle=function(){return this.angle_},_ol_style_RegularShape_.prototype.getFill=function(){return this.fill_},_ol_style_RegularShape_.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_},_ol_style_RegularShape_.prototype.getImage=function(){return this.canvas_},_ol_style_RegularShape_.prototype.getImageSize=function(){return this.imageSize_},_ol_style_RegularShape_.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},_ol_style_RegularShape_.prototype.getImageState=function(){return _imagestate2.default.LOADED},_ol_style_RegularShape_.prototype.getOrigin=function(){return this.origin_},_ol_style_RegularShape_.prototype.getPoints=function(){return this.points_},_ol_style_RegularShape_.prototype.getRadius=function(){return this.radius_},_ol_style_RegularShape_.prototype.getRadius2=function(){return this.radius2_},_ol_style_RegularShape_.prototype.getSize=function(){return this.size_},_ol_style_RegularShape_.prototype.getStroke=function(){return this.stroke_},_ol_style_RegularShape_.prototype.listenImageChange=function(){},_ol_style_RegularShape_.prototype.load=function(){},_ol_style_RegularShape_.prototype.unlistenImageChange=function(){},_ol_style_RegularShape_.prototype.render_=function(a){var b,c,d='',e='',f=0,g=null,h=0,i=0;this.stroke_&&(c=this.stroke_.getColor(),null===c&&(c=_canvas2.default.defaultStrokeStyle),c=_colorlike2.default.asColorLike(c),i=this.stroke_.getWidth(),i===void 0&&(i=_canvas2.default.defaultLineWidth),g=this.stroke_.getLineDash(),h=this.stroke_.getLineDashOffset(),!_has2.default.CANVAS_LINE_DASH&&(g=null,h=0),e=this.stroke_.getLineJoin(),e===void 0&&(e=_canvas2.default.defaultLineJoin),d=this.stroke_.getLineCap(),d===void 0&&(d=_canvas2.default.defaultLineCap),f=this.stroke_.getMiterLimit(),f===void 0&&(f=_canvas2.default.defaultMiterLimit));var j=2*(this.radius_+i)+1,k={strokeStyle:c,strokeWidth:i,size:j,lineCap:d,lineDash:g,lineDashOffset:h,lineJoin:e,miterLimit:f};if(a===void 0){var l=_dom2.default.createCanvasContext2D(j,j);this.canvas_=l.canvas,j=this.canvas_.width,b=j,this.draw_(k,l,0,0),this.createHitDetectionCanvas_(k)}else{j=Math.round(j);var m,n=!this.fill_;n&&(m=this.drawHitDetectionCanvas_.bind(this,k));var o=this.getChecksum(),p=a.add(o,j,j,this.draw_.bind(this,k),m);this.canvas_=p.image,this.origin_=[p.offsetX,p.offsetY],b=p.image.width,n?(this.hitDetectionCanvas_=p.hitImage,this.hitDetectionImageSize_=[p.hitImage.width,p.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[b,b])}this.anchor_=[j/2,j/2],this.size_=[j,j],this.imageSize_=[b,b]},_ol_style_RegularShape_.prototype.draw_=function(a,b,c,d){var e,f,g,h=Math.PI;b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath();var i=this.points_;if(i===Infinity)b.arc(a.size/2,a.size/2,this.radius_,0,2*h,!0);else{var j=this.radius2_===void 0?this.radius_:this.radius2_;for(j!==this.radius_&&(i=2*i),e=0;e<=i;e++)f=2*e*h/i-h/2+this.angle_,g=0==e%2?this.radius_:j,b.lineTo(a.size/2+g*Math.cos(f),a.size/2+g*Math.sin(f))}if(this.fill_){var k=this.fill_.getColor();null===k&&(k=_canvas2.default.defaultFillStyle),b.fillStyle=_colorlike2.default.asColorLike(k),b.fill()}this.stroke_&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.lineDash&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke()),b.closePath()},_ol_style_RegularShape_.prototype.createHitDetectionCanvas_=function(a){if(this.hitDetectionImageSize_=[a.size,a.size],this.fill_)return void(this.hitDetectionCanvas_=this.canvas_);var b=_dom2.default.createCanvasContext2D(a.size,a.size);this.hitDetectionCanvas_=b.canvas,this.drawHitDetectionCanvas_(a,b,0,0)},_ol_style_RegularShape_.prototype.drawHitDetectionCanvas_=function(a,b,c,d){var e=Math.PI;b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath();var f=this.points_;if(f===Infinity)b.arc(a.size/2,a.size/2,this.radius_,0,2*e,!0);else{var g=this.radius2_===void 0?this.radius_:this.radius2_;g!==this.radius_&&(f=2*f);var h,i,j;for(h=0;h<=f;h++)j=2*h*e/f-e/2+this.angle_,i=0==h%2?this.radius_:g,b.lineTo(a.size/2+i*Math.cos(j),a.size/2+i*Math.sin(j))}b.fillStyle=_canvas2.default.defaultFillStyle,b.fill(),this.stroke_&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.lineDash&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),b.stroke()),b.closePath()},_ol_style_RegularShape_.prototype.getChecksum=function(){var a=this.stroke_?this.stroke_.getChecksum():'-',b=this.fill_?this.fill_.getChecksum():'-',c=!this.checksums_||a!=this.checksums_[1]||b!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6];if(c){var d='r'+a+b+(this.radius_===void 0?'-':this.radius_.toString())+(this.radius2_===void 0?'-':this.radius2_.toString())+(this.angle_===void 0?'-':this.angle_.toString())+(this.points_===void 0?'-':this.points_.toString());this.checksums_=[d,a,b,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},exports.default=_ol_style_RegularShape_;

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _color=__webpack_require__(3),_color2=_interopRequireDefault(_color);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_colorlike_={};_ol_colorlike_.asColorLike=function(a){return _ol_colorlike_.isColorLike(a)?a:_color2.default.asString(a)},_ol_colorlike_.isColorLike=function(a){return'string'==typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient},exports.default=_ol_colorlike_;

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _asserts=__webpack_require__(1),_asserts2=_interopRequireDefault(_asserts);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_math_={};_ol_math_.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)},_ol_math_.cosh=function(){var a;return a='cosh'in Math?Math.cosh:function(a){var b=Math.exp(a);return(b+1/b)/2},a}(),_ol_math_.roundUpToPowerOfTwo=function(a){return _asserts2.default.assert(0<a,29),Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},_ol_math_.squaredSegmentDistance=function(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!=g||0!=h){var i=((a-c)*g+(b-d)*h)/(g*g+h*h);1<i?(c=e,d=f):0<i&&(c+=g*i,d+=h*i)}return _ol_math_.squaredDistance(a,b,c,d)},_ol_math_.squaredDistance=function(a,b,c,d){var e=c-a,f=d-b;return e*e+f*f},_ol_math_.solveLinearSystem=function(a){for(var b=Math.abs,c=a.length,d=0;d<c;d++){for(var e,f=d,g=b(a[d][d]),h=d+1;h<c;h++)e=b(a[h][d]),e>g&&(g=e,f=h);if(0===g)return null;var i=a[f];a[f]=a[d],a[d]=i;for(var n,o=d+1;o<c;o++){n=-a[o][d]/a[d][d];for(var j=d;j<c+1;j++)d==j?a[o][j]=0:a[o][j]+=n*a[d][j]}}for(var k=Array(c),p=c-1;0<=p;p--){k[p]=a[p][c]/a[p][p];for(var l=p-1;0<=l;l--)a[l][c]-=a[l][p]*k[p]}return k},_ol_math_.toDegrees=function(a){return 180*a/Math.PI},_ol_math_.toRadians=function(a){return a*Math.PI/180},_ol_math_.modulo=function(c,a){var b=c%a;return 0>b*a?b+a:b},_ol_math_.lerp=function(c,a,b){return c+b*(a-c)},exports.default=_ol_math_;

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _ol_dom_={};_ol_dom_.createCanvasContext2D=function(a,b){var c=document.createElement('CANVAS');return a&&(c.width=a),b&&(c.height=b),c.getContext('2d')},_ol_dom_.outerWidth=function(a){var b=a.offsetWidth,c=getComputedStyle(a);return b+=parseInt(c.marginLeft,10)+parseInt(c.marginRight,10),b},_ol_dom_.outerHeight=function(a){var b=a.offsetHeight,c=getComputedStyle(a);return b+=parseInt(c.marginTop,10)+parseInt(c.marginBottom,10),b},_ol_dom_.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)},_ol_dom_.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},_ol_dom_.removeChildren=function(a){for(;a.lastChild;)a.removeChild(a.lastChild)},exports.default=_ol_dom_;

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _index=__webpack_require__(0),_index2=_interopRequireDefault(_index),_webgl=__webpack_require__(15),_webgl2=_interopRequireDefault(_webgl);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_has_={},ua='undefined'==typeof navigator?'':navigator.userAgent.toLowerCase();_ol_has_.FIREFOX=-1!==ua.indexOf('firefox'),_ol_has_.SAFARI=-1!==ua.indexOf('safari')&&-1==ua.indexOf('chrom'),_ol_has_.WEBKIT=-1!==ua.indexOf('webkit')&&-1==ua.indexOf('edge'),_ol_has_.MAC=-1!==ua.indexOf('macintosh'),_ol_has_.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,_ol_has_.CANVAS_LINE_DASH=!1,_ol_has_.CANVAS=_index2.default.ENABLE_CANVAS&&function(){if(!('HTMLCanvasElement'in window))return!1;try{var a=document.createElement('CANVAS').getContext('2d');return!!a&&(void 0!==a.setLineDash&&(_ol_has_.CANVAS_LINE_DASH=!0),!0)}catch(a){return!1}}(),_ol_has_.DEVICE_ORIENTATION='DeviceOrientationEvent'in window,_ol_has_.GEOLOCATION='geolocation'in navigator,_ol_has_.TOUCH=_index2.default.ASSUME_TOUCH||'ontouchstart'in window,_ol_has_.POINTER='PointerEvent'in window,_ol_has_.MSPOINTER=!!navigator.msPointerEnabled,_ol_has_.WEBGL,function(){}(),exports.default=_ol_has_;

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _index=__webpack_require__(0),_index2=_interopRequireDefault(_index);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _ol_webgl_={};!1,exports.default=_ol_webgl_;

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var _ol_ImageState_={IDLE:0,LOADING:1,LOADED:2,ERROR:3};exports.default=_ol_ImageState_;

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _ol_render_canvas_={};_ol_render_canvas_.defaultFont='10px sans-serif',_ol_render_canvas_.defaultFillStyle=[0,0,0,1],_ol_render_canvas_.defaultLineCap='round',_ol_render_canvas_.defaultLineDash=[],_ol_render_canvas_.defaultLineDashOffset=0,_ol_render_canvas_.defaultLineJoin='round',_ol_render_canvas_.defaultMiterLimit=10,_ol_render_canvas_.defaultStrokeStyle=[0,0,0,1],_ol_render_canvas_.defaultTextAlign='center',_ol_render_canvas_.defaultTextBaseline='middle',_ol_render_canvas_.defaultLineWidth=1,_ol_render_canvas_.rotateAtOffset=function(a,b,c,d){0!==b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))},exports.default=_ol_render_canvas_;

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var _ol_style_Image_=function(a){this.opacity_=a.opacity,this.rotateWithView_=a.rotateWithView,this.rotation_=a.rotation,this.scale_=a.scale,this.snapToPixel_=a.snapToPixel};_ol_style_Image_.prototype.getOpacity=function(){return this.opacity_},_ol_style_Image_.prototype.getRotateWithView=function(){return this.rotateWithView_},_ol_style_Image_.prototype.getRotation=function(){return this.rotation_},_ol_style_Image_.prototype.getScale=function(){return this.scale_},_ol_style_Image_.prototype.getSnapToPixel=function(){return this.snapToPixel_},_ol_style_Image_.prototype.getAnchor=function(){},_ol_style_Image_.prototype.getImage=function(){},_ol_style_Image_.prototype.getHitDetectionImage=function(){},_ol_style_Image_.prototype.getImageState=function(){},_ol_style_Image_.prototype.getImageSize=function(){},_ol_style_Image_.prototype.getHitDetectionImageSize=function(){},_ol_style_Image_.prototype.getOrigin=function(){},_ol_style_Image_.prototype.getSize=function(){},_ol_style_Image_.prototype.setOpacity=function(a){this.opacity_=a},_ol_style_Image_.prototype.setRotateWithView=function(a){this.rotateWithView_=a},_ol_style_Image_.prototype.setRotation=function(a){this.rotation_=a},_ol_style_Image_.prototype.setScale=function(a){this.scale_=a},_ol_style_Image_.prototype.setSnapToPixel=function(a){this.snapToPixel_=a},_ol_style_Image_.prototype.listenImageChange=function(){},_ol_style_Image_.prototype.load=function(){},_ol_style_Image_.prototype.unlistenImageChange=function(){},exports.default=_ol_style_Image_;

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},colorSpaces=__webpack_require__(20),parseColor=__webpack_require__(21),extend=__webpack_require__(23),getType=__webpack_require__(24);function identityFunction(a){return a}function createFunction(a,b){var c,d='color'===b.type;if(!isFunctionDefinition(a))d&&a&&(a=parseColor(a)),c=function(){return a},c.isFeatureConstant=!0,c.isZoomConstant=!0;else{var n=a.stops&&'object'===_typeof(a.stops[0][0]),o=n||a.property!==void 0,p=a.type||('interpolated'===b.function?'exponential':'interval');d&&(a=extend({},a),a.stops&&(a.stops=a.stops.map(function(a){return[a[0],parseColor(a[1])]})),a.default=a.default?parseColor(a.default):parseColor(b.default));var q,r,t;if('exponential'===p)q=evaluateExponentialFunction;else if('interval'===p)q=evaluateIntervalFunction;else if('categorical'===p){q=evaluateCategoricalFunction,r=Object.create(null);var e=!0,f=!1,g=void 0;try{for(var h,i,j=a.stops[Symbol.iterator]();!(e=(h=j.next()).done);e=!0)i=h.value,r[i[0]]=i[1]}catch(a){f=!0,g=a}finally{try{!e&&j.return&&j.return()}finally{if(f)throw g}}t=_typeof(a.stops[0][0])}else if('identity'===p)q=evaluateIdentityFunction;else throw new Error('Unknown function type "'+p+'"');var u;if(!(a.colorSpace&&'rgb'!==a.colorSpace))u=identityFunction;else if(colorSpaces[a.colorSpace]){var v=colorSpaces[a.colorSpace];a=JSON.parse(JSON.stringify(a));for(var w=0;w<a.stops.length;w++)a.stops[w]=[a.stops[w][0],v.forward(a.stops[w][1])];u=v.reverse}else throw new Error('Unknown color space: '+a.colorSpace);if(n){for(var s={},x=[],y=0;y<a.stops.length;y++){var z=a.stops[y],A=z[0].zoom;void 0===s[A]&&(s[A]={zoom:A,type:a.type,property:a.property,stops:[]},x.push(A)),s[A].stops.push([z[0].value,z[1]])}var B=[],C=!0,D=!1,E=void 0;try{for(var k,l,m=zoomStops[Symbol.iterator]();!(C=(k=m.next()).done);C=!0)l=k.value,B.push([featureFunctions[l].zoom,createFunction(featureFunctions[l],b)])}catch(a){D=!0,E=a}finally{try{!C&&m.return&&m.return()}finally{if(D)throw E}}c=function(c,d){return u(evaluateExponentialFunction({stops:B,base:a.base},b,c)(c,d))},c.isFeatureConstant=!1,c.isZoomConstant=!1}else n||!o?(c=function(c){return u(q(a,b,c,r,t))},c.isFeatureConstant=!0,c.isZoomConstant=!1):(c=function(c,d){var e=d[a.property];return void 0===e?coalesce(a.default,b.default):u(q(a,b,e,r,t))},c.isFeatureConstant=!1,c.isZoomConstant=!0)}return c}function coalesce(d,a,b){return void 0===d?void 0===a?void 0===b?void 0:b:a:d}function evaluateCategoricalFunction(a,b,c,d,e){var f=('undefined'==typeof c?'undefined':_typeof(c))===e?d[c]:void 0;return coalesce(f,a.default,b.default)}function evaluateIntervalFunction(a,b,c){if('number'!==getType(c))return coalesce(a.default,b.default);var d=a.stops.length;if(1===d)return a.stops[0][1];if(c<=a.stops[0][0])return a.stops[0][1];if(c>=a.stops[d-1][0])return a.stops[d-1][1];var e=findStopLessThanOrEqualTo(a.stops,c);return a.stops[e][1]}function evaluateExponentialFunction(a,b,c){var d=a.base===void 0?1:a.base;if('number'!==getType(c))return coalesce(a.default,b.default);var e=a.stops.length;if(1===e)return a.stops[0][1];if(c<=a.stops[0][0])return a.stops[0][1];if(c>=a.stops[e-1][0])return a.stops[e-1][1];var f=findStopLessThanOrEqualTo(a.stops,c);return interpolate(c,d,a.stops[f][0],a.stops[f+1][0],a.stops[f][1],a.stops[f+1][1])}function evaluateIdentityFunction(a,b,c){return'color'===b.type?c=parseColor(c):getType(c)!==b.type&&(c=void 0),coalesce(c,a.default,b.default)}function findStopLessThanOrEqualTo(a,b){for(var c,d,e=a.length,f=0,g=e-1,h=0;f<=g;){if(h=Math.floor((f+g)/2),c=a[h][0],d=a[h+1][0],b===c||b>c&&b<d)return h;c<b?f=h+1:c>b&&(g=h-1)}return Math.max(currentIndex-1,0)}function interpolate(a,b,c,d,e,f){return'function'==typeof e?function(){var g=e.apply(void 0,arguments),h=f.apply(void 0,arguments);return void 0===g||void 0===h?void 0:interpolate(a,b,c,d,g,h)}:e.length?interpolateArray(a,b,c,d,e,f):interpolateNumber(a,b,c,d,e,f)}function interpolateNumber(a,b,c,d,e,f){var g=interpolationFactor(a,b,c,d);return e+g*(f-e)}function interpolateArray(a,b,c,d,e,f){for(var g=[],h=0;h<e.length;h++)g[h]=interpolateNumber(a,b,c,d,e[h],f[h]);return output}function isFunctionDefinition(a){return'object'===('undefined'==typeof a?'undefined':_typeof(a))&&(a.stops||'identity'===a.type)}function interpolationFactor(a,b,c,d){var e=Math.pow,f=d-c,g=a-c;return 1===b?g/f:(e(b,g)-1)/(e(b,f)-1)}module.exports=createFunction,module.exports.isFunctionDefinition=isFunctionDefinition,module.exports.interpolationFactor=interpolationFactor,module.exports.findStopLessThanOrEqualTo=findStopLessThanOrEqualTo;

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var Xn=0.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1,deg2rad=Math.PI/180,rad2deg=180/Math.PI;function xyz2lab(a){return a>t3?Math.pow(a,1/3):a/t2+t0}function lab2xyz(a){return a>t1?a*a*a:t2*(a-t0)}function xyz2rgb(a){return 255*(0.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055)}function rgb2xyz(a){return a/=255,0.04045>=a?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function rgbToLab(c){var d=rgb2xyz(c[0]),b=rgb2xyz(c[1]),a=rgb2xyz(c[2]),e=xyz2lab((0.4124564*d+0.3575761*b+0.1804375*a)/Xn),f=xyz2lab((0.2126729*d+0.7151522*b+0.072175*a)/Yn),g=xyz2lab((0.0193339*d+0.119192*b+0.9503041*a)/Zn);return[116*f-16,500*(e-f),200*(f-g),c[3]]}function labToRgb(a){var b=(a[0]+16)/116,c=isNaN(a[1])?b:b+a[1]/500,d=isNaN(a[2])?b:b-a[2]/200;return b=Yn*lab2xyz(b),c=Xn*lab2xyz(c),d=Zn*lab2xyz(d),[xyz2rgb(3.2404542*c-1.5371385*b-0.4985314*d),xyz2rgb(-0.969266*c+1.8760108*b+0.041556*d),xyz2rgb(0.0556434*c-0.2040259*b+1.0572252*d),a[3]]}function rgbToHcl(c){var d=rgbToLab(c),e=d[0],f=d[1],a=d[2],b=Math.atan2(a,f)*rad2deg;return[0>b?b+360:b,Math.sqrt(f*f+a*a),e,c[3]]}function hclToRgb(a){var b=a[0]*deg2rad,d=a[1],c=a[2];return labToRgb([c,Math.cos(b)*d,Math.sin(b)*d,a[3]])}module.exports={lab:{forward:rgbToLab,reverse:labToRgb},hcl:{forward:rgbToHcl,reverse:hclToRgb}};

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var parseColorString=__webpack_require__(22).parseCSSColor;module.exports=function(a){if('string'==typeof a){var b=parseColorString(a);return b?[b[0]/255*b[3],b[1]/255*b[3],b[2]/255*b[3],b[3]]:void 0}return Array.isArray(a)?a:void 0};

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clamp_css_byte(a){return a=Math.round(a),0>a?0:255<a?255:a}function clamp_css_float(a){return 0>a?0:1<a?1:a}function parse_css_int(a){return"%"===a[a.length-1]?clamp_css_byte(255*(parseFloat(a)/100)):clamp_css_byte(parseInt(a))}function parse_css_float(a){return"%"===a[a.length-1]?clamp_css_float(parseFloat(a)/100):clamp_css_float(parseFloat(a))}function css_hue_to_rgb(a,b,c){return 0>c?c+=1:1<c&&(c-=1),1>6*c?a+6*((b-a)*c):1>2*c?b:2>3*c?a+6*((b-a)*(2/3-c)):a}function parseCSSColor(a){var b=a.replace(/ /g,"").toLowerCase();if(b in kCSSColorTable)return kCSSColorTable[b].slice();if("#"===b[0]){if(4===b.length){var c=parseInt(b.substr(1),16);return 0<=c&&4095>=c?[(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1]:null}if(7===b.length){var c=parseInt(b.substr(1),16);return 0<=c&&16777215>=c?[(16711680&c)>>16,(65280&c)>>8,255&c,1]:null}return null}var d=b.indexOf("("),e=b.indexOf(")");if(-1!==d&&e+1===b.length){var f=b.substr(0,d),g=b.substr(d+1,e-(d+1)).split(","),i=1;switch(f){case"rgba":if(4!==g.length)return null;i=parse_css_float(g.pop());case"rgb":return 3===g.length?[parse_css_int(g[0]),parse_css_int(g[1]),parse_css_int(g[2]),i]:null;case"hsla":if(4!==g.length)return null;i=parse_css_float(g.pop());case"hsl":if(3!==g.length)return null;var j=(parseFloat(g[0])%360+360)%360/360,h=parse_css_float(g[1]),k=parse_css_float(g[2]),l=0.5>=k?k*(h+1):k+h-k*h,m=2*k-l;return[clamp_css_byte(255*css_hue_to_rgb(m,l,j+1/3)),clamp_css_byte(255*css_hue_to_rgb(m,l,j)),clamp_css_byte(255*css_hue_to_rgb(m,l,j-1/3)),i];default:return null;}}return null}try{exports.parseCSSColor=parseCSSColor}catch(a){}

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
module.exports=function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)a[d]=b[d];return a};

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};module.exports=function(a){return a instanceof Number?'number':a instanceof String?'string':a instanceof Boolean?'boolean':Array.isArray(a)?'array':null===a?'null':'undefined'==typeof a?'undefined':_typeof(a)};

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
module.exports=createFilter;var types=['Unknown','Point','LineString','Polygon'];function createFilter(a){return new Function('f','var p = (f && f.properties || {}); return '+compile(a))}function compile(a){if(!a)return'true';var b=a[0];if(1>=a.length)return'any'===b?'false':'true';var c='=='===b?compileComparisonOp(a[1],a[2],'===',!1):'!='===b?compileComparisonOp(a[1],a[2],'!==',!1):'<'===b||'>'===b||'<='===b||'>='===b?compileComparisonOp(a[1],a[2],b,!0):'any'===b?compileLogicalOp(a.slice(1),'||'):'all'===b?compileLogicalOp(a.slice(1),'&&'):'none'===b?compileNegation(compileLogicalOp(a.slice(1),'||')):'in'===b?compileInOp(a[1],a.slice(2)):'!in'===b?compileNegation(compileInOp(a[1],a.slice(2))):'has'===b?compileHasOp(a[1]):'!has'===b?compileNegation(compileHasOp(a[1])):'true';return'('+c+')'}function compilePropertyReference(a){return'$type'===a?'f.type':'$id'===a?'f.id':'p['+JSON.stringify(a)+']'}function compileComparisonOp(a,b,c,d){var e=compilePropertyReference(a),f='$type'===a?types.indexOf(b):JSON.stringify(b);return(d?'typeof '+e+'=== typeof '+f+'&&':'')+e+c+f}function compileLogicalOp(a,b){return a.map(compile).join(b)}function compileInOp(a,b){'$type'===a&&(b=b.map(function(a){return types.indexOf(a)}));var c=JSON.stringify(b.sort(compare)),d=compilePropertyReference(a);return 200>=b.length?c+'.indexOf('+d+') !== -1':'function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }('+d+', '+c+',0,'+(b.length-1)+')'}function compileHasOp(a){return'$id'===a?'"id" in f':JSON.stringify(a)+' in p'}function compileNegation(a){return'!('+a+')'}function compare(c,a){return c<a?-1:c>a?1:0}

/***/ }),
/* 26 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_26__;

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_rbush=__webpack_require__(28),_rbush2=_interopRequireDefault(_rbush);Object.defineProperty(exports,"__esModule",{value:!0});function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var labelgun=function(){function a(b,c,d){_classCallCheck(this,a);this.tree=(0,_rbush2.default)(d||10),this.allLabels={},this.hasChanged=[],this.allChanged=!1,this.hideLabel=b,this.showLabel=c}return _createClass(a,[{key:"_total",value:function _total(a){for(var b=0,c=0,d=Object.keys(this.allLabels);c<d.length;c++)this.allLabels[d[c]].state==a&&(b+=1);return b}},{key:"totalShown",value:function totalShown(){return this._total("show")}},{key:"totalHidden",value:function totalHidden(){return this._total("hide")}},{key:"_getLabelsByState",value:function _getLabelsByState(a){for(var b=[],c=0,d=Object.keys(this.allLabels);c<d.length;c++)this.allLabels[d[c]].state==a&&b.push(this.allLabels[d[c]]);return b}},{key:"getHidden",value:function getHidden(){return this._getLabelsByState("hide")}},{key:"getShown",value:function getShown(){return this._getLabelsByState("show")}},{key:"getCollisions",value:function getCollisions(a){var b=this.allLabels[a];if(void 0===b)throw Error("Label doesn't exist :"+JSON.stringify(a));var c=this.tree.search(b),d=c.indexOf(b);return void 0!==d&&c.splice(d,1),c}},{key:"getLabel",value:function getLabel(a){return this.allLabels[a]}},{key:"reset",value:function reset(){this.tree.clear(),this.allLabels={},this.hasChanged=[],this.allChanged=!1}},{key:"_callLabelCallbacks",value:function _callLabelCallbacks(a){var b=this;Object.keys(this.allLabels).forEach(function(c){b._callLabelStateCallback(b.allLabels[c],a)})}},{key:"_callLabelStateCallback",value:function _callLabelStateCallback(a,b){var c=b||a.state;"show"===c&&this.showLabel(a),"hide"===c&&this.hideLabel(a)}},{key:"_compareLabels",value:function _compareLabels(){var a=this;this.orderedLabels=Object.keys(this.allLabels).map(function(b){return a.allLabels[b]}).sort(this._compare),this.orderedLabels.forEach(function(b){var c=a.tree.search(b);(0===c.length||a._allLower(c,b)||b.isDragged)&&(a.allLabels[b.id].state="show")})}},{key:"_allLower",value:function _allLower(a,b){for(var c=void 0,d=0;d<a.length;d++)if(c=a[d],"show"===c.state||c.weight>b.weight||c.isDragged)return!1;return!0}},{key:"_compare",value:function _compare(c,a){return c.weight>a.weight?-1:c.weight<a.weight?1:0}},{key:"_setupLabels",value:function _setupLabels(){var a=this;this.allChanged?(this.allChanged=!1,this.hasChanged=[],this.tree.clear(),Object.keys(this.allLabels).forEach(function(b){a._handleLabelIngestion(b)})):0<this.hasChanged.length&&(this.hasChanged.forEach(function(b){a._handleLabelIngestion(b)}),this.hasChanged=[])}},{key:"_handleLabelIngestion",value:function _handleLabelIngestion(a){var b=this.allLabels[a];this.ingestLabel({bottomLeft:[b.minX,b.minY],topRight:[b.maxX,b.maxY]},b.id,b.weight,b.labelObject,b.name,b.isDragged)}},{key:"update",value:function update(a){this.allChanged=!a,this._setupLabels(),this._compareLabels(),this._callLabelCallbacks()}},{key:"removeLabel",value:function removeLabel(a){var b=this.allLabels[a];this.tree.remove(b),delete this.allLabels[a]}},{key:"_addToTree",value:function _addToTree(a){this.allLabels[a.id]=a,this.tree.insert(a)}},{key:"ingestLabel",value:function ingestLabel(a,b,c,d,e,f){if((void 0===c||null===c)&&(c=0),!a||!a.bottomLeft||!a.topRight)throw Error("Bounding box must be defined with bottomLeft and topRight properties");if("string"!=typeof b&&"number"!=typeof b)throw Error("Label IDs must be a string or a number");var g=this.allLabels[b];g&&this.removeLabel(g.id);var h={minX:a.bottomLeft[0],minY:a.bottomLeft[1],maxX:a.topRight[0],maxY:a.topRight[1],state:"hide",id:b,weight:c,labelObject:d,name:e,isDragged:f};this._addToTree(h)}},{key:"labelHasChanged",value:function labelHasChanged(a){-1===this.hasChanged.indexOf(a)&&this.hasChanged.push(a)}}]),a}();exports.default=labelgun;

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
module.exports=rbush;var quickselect=__webpack_require__(29);function rbush(a,b){var c=Math.max;return this instanceof rbush?void(this._maxEntries=c(4,a||9),this._minEntries=c(2,Math.ceil(0.4*this._maxEntries)),b&&this._initFormat(b),this.clear()):new rbush(a,b)}rbush.prototype={all:function all(){return this._all(this.data,[])},search:function search(a){var b=this.data,c=[],d=this.toBBox;if(!intersects(a,b))return c;for(var e,f,g,h,i=[];b;){for(e=0,f=b.children.length;e<f;e++)g=b.children[e],h=b.leaf?d(g):g,intersects(a,h)&&(b.leaf?c.push(g):contains(a,h)?this._all(g,c):i.push(g));b=i.pop()}return c},collides:function collides(a){var b=this.data,c=this.toBBox;if(!intersects(a,b))return!1;for(var d,e,f,g,h=[];b;){for(d=0,e=b.children.length;d<e;d++)if(f=b.children[d],g=b.leaf?c(f):f,intersects(a,g)){if(b.leaf||contains(a,g))return!0;h.push(f)}b=h.pop()}return!1},load:function load(a){if(!(a&&a.length))return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}var d=this._build(a.slice(),0,a.length-1,0);if(!this.data.children.length)this.data=d;else if(this.data.height===d.height)this._splitRoot(this.data,d);else{if(this.data.height<d.height){var e=this.data;this.data=d,d=e}this._insert(d,this.data.height-d.height-1,!0)}return this},insert:function insert(a){return a&&this._insert(a,this.data.height-1),this},clear:function clear(){return this.data=createNode([]),this},remove:function remove(a,b){if(!a)return this;for(var c,d,e,f,g=this.data,h=this.toBBox(a),i=[],j=[];g||i.length;){if(g||(g=i.pop(),d=i[i.length-1],c=j.pop(),f=!0),g.leaf&&(e=findItem(a,g.children,b),-1!==e))return g.children.splice(e,1),i.push(g),this._condense(i),this;f||g.leaf||!contains(g,h)?d?(c++,g=d.children[c],f=!1):g=null:(i.push(g),j.push(c),c=0,d=g,g=g.children[0])}return this},toBBox:function toBBox(a){return a},compareMinX:compareNodeMinX,compareMinY:compareNodeMinY,toJSON:function toJSON(){return this.data},fromJSON:function fromJSON(a){return this.data=a,this},_all:function _all(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function _build(a,b,c,d){var e,f=Math.min,g=Math.log,h=Math.ceil,k=c-b+1,l=this._maxEntries;if(k<=l)return e=createNode(a.slice(b,c+1)),calcBBox(e,this.toBBox),e;d||(d=h(g(k)/g(l)),l=h(k/Math.pow(l,d-1))),e=createNode([]),e.leaf=!1,e.height=d;var m,i,j,n,o=h(k/l),p=o*h(Math.sqrt(l));for(multiSelect(a,b,c,p,this.compareMinX),m=b;m<=c;m+=p)for(j=f(m+p-1,c),multiSelect(a,m,j,o,this.compareMinY),i=m;i<=j;i+=o)n=f(i+o-1,j),e.children.push(this._build(a,i,n,d-1));return calcBBox(e,this.toBBox),e},_chooseSubtree:function _chooseSubtree(a,b,c,d){for(var e,f,g,h,i,j,k,l;d.push(b),!(b.leaf||d.length-1===c);){for(k=l=Infinity,e=0,f=b.children.length;e<f;e++)g=b.children[e],i=bboxArea(g),j=enlargedArea(a,g)-i,j<l?(l=j,k=i<k?i:k,h=g):j===l&&i<k&&(k=i,h=g);b=h||b.children[0]}return b},_insert:function _insert(a,b,c){var d=this.toBBox,e=c?a:d(a),f=[],g=this._chooseSubtree(e,this.data,b,f);for(g.children.push(a),extend(g,e);0<=b&&f[b].children.length>this._maxEntries;)this._split(f,b),b--;this._adjustParentBBoxes(e,f,b)},_split:function _split(a,b){var c=a[b],d=c.children.length,e=this._minEntries;this._chooseSplitAxis(c,e,d);var f=this._chooseSplitIndex(c,e,d),g=createNode(c.children.splice(f,c.children.length-f));g.height=c.height,g.leaf=c.leaf,calcBBox(c,this.toBBox),calcBBox(g,this.toBBox),b?a[b-1].children.push(g):this._splitRoot(c,g)},_splitRoot:function _splitRoot(a,b){this.data=createNode([a,b]),this.data.height=a.height+1,this.data.leaf=!1,calcBBox(this.data,this.toBBox)},_chooseSplitIndex:function _chooseSplitIndex(a,b,c){var d,e,f,g,h,i,j,k;for(i=j=Infinity,d=b;d<=c-b;d++)e=distBBox(a,0,d,this.toBBox),f=distBBox(a,d,c,this.toBBox),g=intersectionArea(e,f),h=bboxArea(e)+bboxArea(f),g<i?(i=g,k=d,j=h<j?h:j):g===i&&h<j&&(j=h,k=d);return k},_chooseSplitAxis:function _chooseSplitAxis(a,b,c){var d=a.leaf?this.compareMinX:compareNodeMinX,e=a.leaf?this.compareMinY:compareNodeMinY,f=this._allDistMargin(a,b,c,d),g=this._allDistMargin(a,b,c,e);f<g&&a.children.sort(d)},_allDistMargin:function _allDistMargin(a,b,c,d){a.children.sort(d);var e,f,g=this.toBBox,h=distBBox(a,0,b,g),i=distBBox(a,c-b,c,g),j=bboxMargin(h)+bboxMargin(i);for(e=b;e<c-b;e++)f=a.children[e],extend(h,a.leaf?g(f):f),j+=bboxMargin(h);for(e=c-b-1;e>=b;e--)f=a.children[e],extend(i,a.leaf?g(f):f),j+=bboxMargin(i);return j},_adjustParentBBoxes:function _adjustParentBBoxes(a,b,c){for(var d=c;0<=d;d--)extend(b[d],a)},_condense:function _condense(a){for(var b,c=a.length-1;0<=c;c--)0===a[c].children.length?0<c?(b=a[c-1].children,b.splice(b.indexOf(a[c]),1)):this.clear():calcBBox(a[c],this.toBBox)},_initFormat:function _initFormat(a){var b=['return a',' - b',';'];this.compareMinX=new Function('a','b',b.join(a[0])),this.compareMinY=new Function('a','b',b.join(a[1])),this.toBBox=new Function('a','return {minX: a'+a[0]+', minY: a'+a[1]+', maxX: a'+a[2]+', maxY: a'+a[3]+'};')}};function findItem(a,b,c){if(!c)return b.indexOf(a);for(var d=0;d<b.length;d++)if(c(a,b[d]))return d;return-1}function calcBBox(a,b){distBBox(a,0,a.children.length,b,a)}function distBBox(a,b,c,d,e){e||(e=createNode(null)),e.minX=Infinity,e.minY=Infinity,e.maxX=-Infinity,e.maxY=-Infinity;for(var f,g=b;g<c;g++)f=a.children[g],extend(e,a.leaf?d(f):f);return e}function extend(c,a){var b=Math.min,d=Math.max;return c.minX=b(c.minX,a.minX),c.minY=b(c.minY,a.minY),c.maxX=d(c.maxX,a.maxX),c.maxY=d(c.maxY,a.maxY),c}function compareNodeMinX(c,a){return c.minX-a.minX}function compareNodeMinY(c,a){return c.minY-a.minY}function bboxArea(b){return(b.maxX-b.minX)*(b.maxY-b.minY)}function bboxMargin(b){return b.maxX-b.minX+(b.maxY-b.minY)}function enlargedArea(c,a){var b=Math.min,d=Math.max;return(d(a.maxX,c.maxX)-b(a.minX,c.minX))*(d(a.maxY,c.maxY)-b(a.minY,c.minY))}function intersectionArea(c,a){var b=Math.min,d=Math.max,e=d(c.minX,a.minX),f=d(c.minY,a.minY),g=b(c.maxX,a.maxX),h=b(c.maxY,a.maxY);return d(0,g-e)*d(0,h-f)}function contains(c,a){return c.minX<=a.minX&&c.minY<=a.minY&&a.maxX<=c.maxX&&a.maxY<=c.maxY}function intersects(c,a){return a.minX<=c.maxX&&a.minY<=c.maxY&&a.maxX>=c.minX&&a.maxY>=c.minY}function createNode(a){return{children:a,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function multiSelect(a,b,c,d,e){for(var f,g=[b,c];g.length;)c=g.pop(),b=g.pop(),c-b<=d||(f=b+Math.ceil((c-b)/d/2)*d,quickselect(a,f,b,c,e),g.push(b,f,f,c))}

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
module.exports=partialSort;function partialSort(a,b,c,d,e){var f=Math.floor;for(c=c||0,d=d||a.length-1,e=e||defaultCompare;d>c;){if(600<d-c){var g=d-c+1,h=b-c+1,k=Math.log(g),l=0.5*Math.exp(2*k/3),m=0.5*Math.sqrt(k*l*(g-l)/g)*(0>h-g/2?-1:1),n=Math.max(c,f(b-h*l/g+m)),o=Math.min(d,f(b+(g-h)*l/g+m));partialSort(a,b,n,o,e)}var p=a[b],q=c,i=d;for(swap(a,c,b),0<e(a[d],p)&&swap(a,c,d);q<i;){for(swap(a,q,i),q++,i--;0>e(a[q],p);)q++;for(;0<e(a[i],p);)i--}0===e(a[c],p)?swap(a,c,i):(i++,swap(a,i,d)),i<=b&&(c=i+1),b<=i&&(d=i-1)}}function swap(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function defaultCompare(c,a){return c<a?-1:c>a?1:0}

/***/ })
/******/ ]);
});